<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Smart Life Multi-Language Chat</title>

<style>
body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI","Cairo",sans-serif;
  background:#0b1220;
  color:#fff;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  transition:.3s ease;
}
header{
  padding:20px;
  border-bottom:1px solid rgba(255,255,255,.1);
  display:flex;
  align-items:center;
}
html[dir="rtl"] header{ flex-direction:row; justify-content:space-between; }
html[dir="ltr"] header{ flex-direction:row-reverse; justify-content:space-between; }

main{
  flex:1;
  display:flex;
  flex-direction:column;
  justify-content:center;
  padding:40px;
}
html[dir="rtl"] main{ text-align:right; }
html[dir="ltr"] main{ text-align:left; }

.dir-toggle{
  padding:8px 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.2);
  background:rgba(255,255,255,.08);
  color:#fff;
  cursor:pointer;
  font-weight:600;
}
</style>
</head>

<body>

<header>
  <h2>Ø³Ù…Ø§Ø±Øª Ù„Ø§ÙŠÙ</h2>
  <button id="dirToggleBtn" class="dir-toggle">ğŸŒ English</button>
</header>

<main>
  <h1 id="headline">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ğŸ‘‹</h1>
  <p id="desc">ØªØ¬Ø±Ø¨Ø© ØªØ­Ø¯ÙŠØ« Contact Attributes</p>
</main>

<!-- âœ… Bird SDK Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· -->
<script
  src="https://embeddables.p.mbirdcdn.net/sdk/v0/bird-sdk.js"
  data-config-url="https://api.bird.com/workspaces/a00e85cb-1438-4c76-b1c7-a7e4f2ec3768/applications/7d702097-cc09-4d08-a20b-da3cbe9a1b61/signature/2024-06-17T17-12-51_796d7d7c62"
></script>

<script>
/* =========================
   ØªØ­Ø¯ÙŠØ« Contact Attributes
   ========================= */

Bird.eventTarget.addEventListener('bird-sdk-initialized', async () => {
  try {

    await Bird.contact.putAttributes({
      displayName: "Roy Glass",
      customName: "SmartLife Visitor",
      subscribedAppInbox: true,
      subscribedPush: true,
      testFlag: "TEST_001"
    });

    console.log("âœ… Contact Attributes updated successfully");

  } catch (error) {
    console.error("âŒ Error updating attributes:", error);
  }
});


/* ======== ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ© (Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ SDK) ======== */
const toggleBtn = document.getElementById("dirToggleBtn");
const html = document.documentElement;

function updateDirection(dir){
  const lang = dir === "rtl" ? "ar" : "en";

  html.setAttribute("dir", dir);
  html.setAttribute("lang", lang);

  if(lang === "ar"){
    toggleBtn.textContent = "ğŸŒ English";
    document.getElementById("headline").textContent = "Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ğŸ‘‹";
    document.getElementById("desc").textContent = "ØªØ¬Ø±Ø¨Ø© ØªØ­Ø¯ÙŠØ« Contact Attributes";
  } else {
    toggleBtn.textContent = "ğŸŒ Ø¹Ø±Ø¨ÙŠ";
    document.getElementById("headline").textContent = "Welcome ğŸ‘‹";
    document.getElementById("desc").textContent = "Testing Contact Attributes";
  }

  localStorage.setItem("site_lang", lang);
}

const savedLang = localStorage.getItem("site_lang") || "ar";
updateDirection(savedLang === "ar" ? "rtl" : "ltr");

toggleBtn.addEventListener("click", ()=>{
  const currentDir = html.getAttribute("dir");
  updateDirection(currentDir === "rtl" ? "ltr" : "rtl");
});
</script>

</body>
</html>
